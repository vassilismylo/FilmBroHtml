<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FilmBro | Edit My Profile</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="editMyProfile_form.css" rel="stylesheet">
    <link href="general.css" rel="stylesheet">
</head>
<body>

    <header class="navbar navbar-light bg-light">
        <a href="index.html" class="navbar-brand">FilmBro</a>
    </header>

    <div class="modal-dialog modal-sm width-form-style">
        <div class="modal-content general-form-style">
            <!-- Modal Header-->
            <div class="modal-header header-form-style">
                <h1 class="text-center header-title-form-style">My Profile</h1>
            </div>
            
            <div class="modal-body form-body-style">
                <!-- Profile Form -->
                <form id="profile" action="#" method="post">
                    <div class="mb-3 ">
                        <label for="name" class="form-label">Username:</label>
                        <input type="text" class="form-control form-control-custom-style" id="name" name="name" minlength="2" placeholder="my username" required>
                    </div>

                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input type="email" class="form-control form-control-custom-style" id="email" name="email" minlength="10" maxlength="40" placeholder="xxxx@yyyy.zzzz" required pattern="^(?!.*[^a-zA-Z0-9@.])[a-zA-Z0-9]*[0-9][a-zA-Z0-9]*@[a-zA-Z0-9]+\.[a-zA-Z]{2,}$" title="Email must contain at least one number and can only include letters, numbers, '@', and '.'">
                    </div>

                    <!-- Country Dropdown -->
                    <div class="mb-3 mb-3-custom">
                        <label for="country" class="form-label">Country:</label>
                        <div class="dropdown dropdown-custom">
                            <button class="btn btn-primary dropdown-toggle dropdown-button-custome-style" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                                Choose a Country
                            </button>
                            <ul class="dropdown-menu dropdown-menu-custom" aria-labelledby="dropdownMenuButton" id="countryDropdown">
                                <!-- Countries will be dynamically added -->
                            </ul>
                        </div>
                    </div>

                    <!-- Streaming Services Dropdown-->
                    <div class="mb-3 mb-3-custom">
                        <label for="streaming" class="form-label">Streaming Services:</label>
                        <div class="dropdown dropdown-custom">
                            <button class="btn btn-outline-secondary dropdown-toggle dropdown-button-custome-style" type="button" id="streamingDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                Select Services
                            </button>
                            <ul class="dropdown-menu p-3 dropdown-menu-custom dropdown-item-custom-2" id="streamingDropdownMenu">
                                <li>
                                    <div class="form-check">
                                        <input class="form-check-input custom-checkbox" type="checkbox" id="netflix" value="Netflix">
                                        <label class="form-check-label custom-checkbox-style" for="netflix">
                                            Netflix
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="form-check">
                                        <input class="form-check-input custom-checkbox" type="checkbox" id="disney" value="Disney Plus">
                                        <label class="form-check-label custom-checkbox-style" for="disney">
                                            Disney Plus
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="form-check">
                                        <input class="form-check-input custom-checkbox" type="checkbox" id="apple" value="Apple TV">
                                        <label class="form-check-label custom-checkbox-style" for="apple">
                                            Apple TV
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="form-check">
                                        <input class="form-check-input custom-checkbox" type="checkbox" id="prime" value="Prime Video">
                                        <label class="form-check-label custom-checkbox-style" for="prime">
                                            Prime Video
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>      

                    <!--Upload a photo-->
                    <div class="mb-3">
                        <label for="photo" class="form-label">Profile photo:</label>
    
                        <div class="d-inline-block">
                            <!-- Custom button for file upload -->
                            <input type="file" id="photo" name="photo" accept="image/*" style="display: none;">
                            <label for="photo" class="btn btn-primary dropdown-button-custome-style">Choose File</label>
                        </div>
                    
                        <small class="d-block mt-2 custom-style-message">Please upload a clear image. Accepted formats: JPG, PNG.</small>
                    </div>
                    
                    <!--Info-->
                    <div class="mb-3">
                        <label for="info" class="form-label">Information about me:</label>
                        <textarea class="form-control form-control-custom-style textarea-custom-style" id="info" rows="5" placeholder="Write something about yourself..."></textarea>
                    </div>

                    <!-- Private-Public Options -->
                    <div class="select-option">
                        <label class="form-label form-label-custom">I want my profile to be:</label>
                        <div class="option-container">
                            <!-- Private option -->
                            <label class="option option-custom-style" tabindex="0" role="button" data-bs-toggle="popover" data-bs-placement="bottom" data-bs-trigger="hover"  data-bs-content="Only your followers can see your lists, reviews, and followers.">
                                <input type="checkbox" name="option" value="private" class="option-checkbox custom-checkbox">
                                Private
                            </label>
                            
                            <!-- Public option -->
                            <label class="option option-custom-style" tabindex="0" role="button" data-bs-toggle="popover" data-bs-placement="bottom" data-bs-trigger="hover" data-bs-content="ALL users can see your lists, reviews, and followers.">
                                <input type="checkbox" name="option" value="public" class="option-checkbox custom-checkbox">
                                Public
                            </label>
                        </div>
                    </div> 

                <button type="submit" class="btn btn-primary button-style">Save</button>
                <button type="button" class="btn btn-primary button-style" onclick="window.location.href = 'myprofile.html'">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!--Counties-->
    <script>
        // Array of countries
        const countries = [
            "United States", "Canada", "United Kingdom", "Australia", "India", 
            "Germany", "France", "Japan", "China", "Brazil", "Italy", "Russia", 
            "South Korea", "South Africa", "Mexico", "Argentina", "Spain", 
            "Netherlands", "Sweden", "Norway", "Denmark", "Singapore", 
            "Thailand", "Malaysia", "Philippines", "Indonesia", "Vietnam", 
            "Turkey", "Saudi Arabia", "United Arab Emirates", "Egypt", "Nigeria",
            "Kenya", "Israel", "Switzerland", "Austria", "Belgium", "Portugal",
            "Greece", "Ireland", "New Zealand", "Chile", "Colombia"
        ];

        // Populate the dropdown dynamically
        const countryDropdown = document.getElementById("countryDropdown");

        countries.forEach(country => {
            const listItem = document.createElement("li");
            listItem.innerHTML = `<a class="dropdown-item dropdown-item-custom" href="#">${country}</a>`;
            countryDropdown.appendChild(listItem);
        });
    </script>

    <script>
        // Initialize Bootstrap popovers
        document.addEventListener('DOMContentLoaded', function () {
            var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));
            popoverTriggerList.forEach(function (popoverTriggerEl) {
                new bootstrap.Popover(popoverTriggerEl);
            });
        });

        // Ensure only one checkbox is selected at a time (Private or Public)
        const checkboxes = document.querySelectorAll('.option-checkbox');
        
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function () {
                if (this.checked) {
                    checkboxes.forEach(otherCheckbox => {
                        if (otherCheckbox !== this) {
                            otherCheckbox.checked = false; // Uncheck the other checkbox
                        }
                    });
                }
            });
        });
    </script>

</body>
</html>
